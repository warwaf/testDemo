<!--pages/album/subscribe/index.wxml-->
<view class="v-image">
   <image style="width:100%;height:275px" src="https://hcmtq.oss-accelerate.aliyuncs.com/resources/subscribe/subscribe-bg@2x.png"></image>
</view>
<view class="v-form" style="height:{{type ? '370px': '410px'}}">
    <view class="text" style="font-weight: bold;">基本信息</view>
    <block wx:if="{{!type}}">
        <picker mode="region" bindchange="bindRegionChange" value="{{region}}" custom-item="{{customItem}}">
            <view class="input-item" bind:tap="chooseAddr">
                <text>{{fromData.address}}</text>
                <view class="picker">
                    {{region[0]}}{{region[1]}}{{region[2]}}
                </view>
                <image class="addr" src="https://hcmtq.oss-accelerate.aliyuncs.com/resources/subscribe/subscribe-addr@2x.png"></image>
            </view>
        </picker>
        <view class="input-item" bindtap="tapPop" data-value="time">
            {{fromData.time}}
            <image src="https://hcmtq.oss-accelerate.aliyuncs.com/resources/subscribe/subscribe-date@2x.png"></image>
        </view>
    </block>

    <block wx:if="{{type}}">
        <view class="row">{{fromData.address}}</view>
        <view class="row">{{fromData.time}}</view>
    </block>
    <!-- <view class="row">{{fromData.catalogNoName}}</view> -->
    <view class="row" wx:if="{{type}}">¥{{fromData.price}}</view>
    <!-- <view class="input-item" wx:if="{{type == 1}}">
        ¥{{fromData.price}}
    </view> -->
    <view class="input-item" bindtap="tapPop" data-value="name">
        {{fromData.name}}
    </view>
    <view class="input-item" bindtap="tapPop" data-value="phone">
        {{fromData.phone}}
    </view>
    <view class="input-item" bindtap="tapPop" data-value="active" wx:if="{{type != 1}}">
        {{fromData.active}}
    </view>
    <view class="btn" bind:tap="next">
        {{ type == 1 ? '去下单，GO！':'填好啦'}}
    </view>
</view>
<pop title="联系电话" bind:comfirm="tapComfirm" visibile="{{visibile == 'phone'}}">
    <view class="v-phone">
          <input type="number" focus="{{visibile == 'phone'}}" bindinput="phoneChange" cursor-spacing="95px"/>
    </view>
</pop>
<pop title="联系人" bind:comfirm="tapComfirm" visibile="{{visibile == 'name'}}">
    <view class="v-phone">
          <input type="text" focus="{{visibile == 'name'}}" bindinput="nameChange" cursor-spacing="95px"/>
    </view>
</pop>

<dateRange title="活动时间" bind:comfirm='tapComfirm' visibile="{{visibile == 'time'}}"></dateRange>

<pop title="活动人数" bind:comfirm="tapComfirm" visibile="{{visibile == 'active'}}">
    <picker-view indicator-style="height: 50px;"  style="width: 100%; height: 300px;" bindchange="bindChange">
        <picker-view-column>
        <view wx:for="{{list}}" wx:key='index' class="v-range-item" >{{item}}</view>
        </picker-view-column>
  </picker-view>
</pop>