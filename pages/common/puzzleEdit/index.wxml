<!--pages/common/puzzleEdit/index.wxml-->
<view class='hc-box'>
    <view id="puzzleEdit" class='hc-puzzleEdit {{ type == "style" ? "hc-style" : "" }}'>
        <puzzle class="puzzle-edit" id="puzzle" arr="{{arr}}" layout='{{defaultLayout}}'></puzzle>
        <!-- 风格编辑器 -->
        <view class="hc-compound">
          <image style="height:{{editHeight}}px;width:{{editWidth}}px" src="{{imageUrl}}"></image>
        </view>
        <canvas class="canvas-compound" canvas-id="compound"></canvas>
        <!-- 二维码合成编辑器 -->
        <canvas class="wrapper-canvas"  canvas-id="image" style="width: 375px; height: 667px;"></canvas>
    </view>
    
</view> 
<view class='hc-puzzle'>
  <view class='hc-puzzle-tools'>
    <view class='tools-item' bindtap="last">上一步</view>
    <view class='tools-item item-right' bindtap="next">下一步</view>
  </view>
  <view class='hc-puzzle-content'>
    <view wx:if="{{type == 'style'}}"
          wx:for="{{currentStyleArr}}" 
          wx:for-item="item"
          wx:key='index'
          data-index='{{index}}'
          class="hc-puzzle-image {{item.name}}"
          bindtap='selectStyle'  
          style="background-image:url('http://hcmtq.oss-cn-hangzhou.aliyuncs.com/SystemImg/Jigsaw3.png')">
    </view>
    <view wx:if="{{type == 'layout'}}"
          wx:for="{{currentArr}}" 
          wx:for-item="item"
          wx:key='index'
          data-index='{{index}}'
          class="hc-puzzle-image {{item.url}}"
          bindtap='selectLayout'  
          style="background-image:url('http://hcmtq.oss-cn-hangzhou.aliyuncs.com/SystemImg/Jigsaw3.png')">
    </view>
  </view>
  <view class='hc-puzzle-tab'>
      <view class='tab-item item-left' bindtap='changeType' data-type='style'>
        <view class='{{ type == "style" ? "active": "" }}'>风格</view>
      </view>
      <view class='tab-item' bindtap='changeType' data-type='layout'>
        <view class='{{ type == "layout" ? "active": "" }}'>布局</view>
      </view>
  </view>
  <loading type="1" pos="top" wx:if="{{ isLoading }}"></loading>
  <loading type="2" pos="top" wx:if="{{ isLoading2 }}"></loading>
</view>
